
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Currency Rate Analysis &#8212; From Excel to Pandas</title>
    
  <link rel="stylesheet" href="../_static/css/index.f658d18f9b420779cfdf24aa0a7e2d77.css">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      
  <link rel="stylesheet"
    href="../_static/vendor/open-sans_all/1.44.1/index.css">
  <link rel="stylesheet"
    href="../_static/vendor/lato_latin-ext/1.44.1/index.css">

    
    <link rel="stylesheet" href="../_static/sphinx-book-theme.37f24b989f4638ff9c27c22dc7559d4f.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.d3f166471bb80abb5163.js">

    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <script src="../_static/togglebutton.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/sphinx-book-theme.7d483ff0a819d6edff12ce0b1ead3928.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["\\(", "\\)"]], "displayMath": [["\\[", "\\]"]], "processRefs": false, "processEnvironments": false}})</script>
    <script async="async" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Linear Programming (Optimization)" href="08.03_Linear_optimization.html" />
    <link rel="prev" title="Logistics Analysis" href="08.01_Logistics_analysis.html" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />



  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
<a class="navbar-brand text-wrap" href="../index.html">
  
  <img src="../_static/logo.png" class="logo" alt="logo">
  
  
  <h1 class="site-logo" id="site-title">From Excel to Pandas</h1>
  
</a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form>
<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
    <ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../intro.html">
   Welcome to the tutorial “from-Excel-to-Pandas” for data analysis
  </a>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  Getting Started
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../getting_started.html">
   Install Locally
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../getting_started.html#open-in-aws-sagemaker-studio-lab">
   Open in AWS SageMaker Studio Lab
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../getting_started.html#open-in-binder-colab">
   Open in Binder/Colab
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../getting_started.html#open-in-visual-studio-code">
   Open in Visual Studio Code
  </a>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  Loading Data
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="01.01%20-%20loading%20files.html">
   Loading Data Files (CSV or XLSX)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="01.02%20-%20loading%20data%20from%20HTML.html">
   Reading Data from Web Sites
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="01.03_loading_data_from_API.html">
   Reading Data from External API
  </a>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  Adding Columns
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="02.01_Adding_New_Columns.html">
   Adding New Columns
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="02.02_date_functions.html">
   Date Functions
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="02.08_group_values.html">
   Categories from numeric values
  </a>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  Table Aggregation and Reshaping
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="03.01_pivot_tables.html">
   Creating a Pivot Table
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="03.02_group_by.html">
   Split a Table into Groups
  </a>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  Table Enrichment with Merge
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="03.03_merge.html">
   Merge/Join Tables (VLOOKUP)
  </a>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  Industries Use Cases
 </span>
</p>
<ul class="current nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="08.01_Logistics_analysis.html">
   Logistics Analysis
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Currency Rate Analysis
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="08.03_Linear_optimization.html">
   Linear Programming (Optimization)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="08.04_Survey_analysis.html">
   Survey Analysis
  </a>
 </li>
</ul>

</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../_sources/notebooks/08.02_Currency_analysis.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->


            <!-- Full screen (wrap in <a> to have style consistency -->
            <a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
                    data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
                    title="Fullscreen mode"><i
                        class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://gesis.mybinder.org/binder/v2/gh/aiola-lab/from-excel-to-pandas//v2/gh/executablebooks/jupyter-book/master?urlpath=tree/notebooks/08.02_Currency_analysis.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="../_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">
            
        <div class="tocsection onthispage pt-5 pb-3">
            <i class="fas fa-list"></i> Contents
        </div>
        <nav id="bd-toc-nav">
            <ul class="nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#loading-data-using-api">
   Loading data using API
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#getting-rates-for-a-specific-date">
     Getting rates for a specific date
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#putting-it-all-together">
     Putting it all together
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#deal-conversion">
   Deal conversion
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#additional-rates-sources">
     Additional rates sources
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#analysis-use-case">
   Analysis Use-case
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#analysis-output">
     Analysis output
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#data-visualization">
   Data Visualization
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#line-chart">
     Line Chart
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#scatter-plot">
     Scatter Plot
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#analyze-across-weeks-using-groupby">
   Analyze Across Weeks using Groupby
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#analysis-conclusion">
     Analysis conclusion
    </a>
   </li>
  </ul>
 </li>
</ul>

        </nav>
        
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="currency-rate-analysis">
<h1>Currency Rate Analysis<a class="headerlink" href="#currency-rate-analysis" title="Permalink to this headline">¶</a></h1>
<blockquote>
<div><p>Money often costs too much. –Ralph Waldo Emerson</p>
</div></blockquote>
<p>A very used expression in our life, and if utilized just right, also very useful.</p>
<p>In this notebook, we query a REST API to get the latest currency rates for many currencies. Using dynamic API compared to loading static files allows for updated data to be processed.</p>
<div class="section" id="loading-data-using-api">
<h2>Loading data using API<a class="headerlink" href="#loading-data-using-api" title="Permalink to this headline">¶</a></h2>
<p>First of all, let’s get our data.</p>
<p>In order to do so, let’s start with installing all the needed libraries and get the right imports.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">forex</span><span class="o">-</span><span class="n">python</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: forex-python in /Users/guy/opt/anaconda3/lib/python3.8/site-packages (1.5)
Requirement already satisfied: requests in /Users/guy/opt/anaconda3/lib/python3.8/site-packages (from forex-python) (2.25.1)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: simplejson in /Users/guy/opt/anaconda3/lib/python3.8/site-packages (from forex-python) (3.17.2)
Requirement already satisfied: idna&lt;3,&gt;=2.5 in /Users/guy/opt/anaconda3/lib/python3.8/site-packages (from requests-&gt;forex-python) (2.10)
Requirement already satisfied: certifi&gt;=2017.4.17 in /Users/guy/opt/anaconda3/lib/python3.8/site-packages (from requests-&gt;forex-python) (2020.12.5)
Requirement already satisfied: chardet&lt;5,&gt;=3.0.2 in /Users/guy/opt/anaconda3/lib/python3.8/site-packages (from requests-&gt;forex-python) (4.0.0)
Requirement already satisfied: urllib3&lt;1.27,&gt;=1.21.1 in /Users/guy/opt/anaconda3/lib/python3.8/site-packages (from requests-&gt;forex-python) (1.25.11)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Yellow">WARNING: Error parsing requirements for nbconvert: [Errno 2] No such file or directory: &#39;/Users/guy/opt/anaconda3/lib/python3.8/site-packages/nbconvert-6.0.7.dist-info/METADATA&#39;</span>
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Note: you may need to restart the kernel to use updated packages.
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="kn">from</span> <span class="nn">forex_python.converter</span> <span class="kn">import</span> <span class="n">CurrencyRates</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>
</pre></div>
</div>
</div>
</div>
<p>Let’s get the data</p>
<p>In that case, the function here is given by the provider of this API, and for more methods, you can go to <a class="reference external" href="https://forex-python.readthedocs.io/en/latest/usage.html">forext-python usage page</a></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">usd_rates</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">CurrencyRates</span><span class="p">()</span>
    <span class="o">.</span><span class="n">get_rates</span><span class="p">(</span><span class="s1">&#39;USD&#39;</span><span class="p">)</span>
<span class="p">)</span>
<span class="n">usd_rates</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">gaierror</span><span class="g g-Whitespace">                                  </span>Traceback (most recent call last)
<span class="nn">~/opt/anaconda3/lib/python3.8/site-packages/urllib3/connection.py</span> in <span class="ni">_new_conn</span><span class="nt">(self)</span>
<span class="g g-Whitespace">    </span><span class="mi">158</span>         <span class="k">try</span><span class="p">:</span>
<span class="ne">--&gt; </span><span class="mi">159</span>             <span class="n">conn</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="n">create_connection</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">160</span>                 <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_dns_host</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">port</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">timeout</span><span class="p">,</span> <span class="o">**</span><span class="n">extra_kw</span>

<span class="nn">~/opt/anaconda3/lib/python3.8/site-packages/urllib3/util/connection.py</span> in <span class="ni">create_connection</span><span class="nt">(address, timeout, source_address, socket_options)</span>
<span class="g g-Whitespace">     </span><span class="mi">60</span> 
<span class="ne">---&gt; </span><span class="mi">61</span>     <span class="k">for</span> <span class="n">res</span> <span class="ow">in</span> <span class="n">socket</span><span class="o">.</span><span class="n">getaddrinfo</span><span class="p">(</span><span class="n">host</span><span class="p">,</span> <span class="n">port</span><span class="p">,</span> <span class="n">family</span><span class="p">,</span> <span class="n">socket</span><span class="o">.</span><span class="n">SOCK_STREAM</span><span class="p">):</span>
<span class="g g-Whitespace">     </span><span class="mi">62</span>         <span class="n">af</span><span class="p">,</span> <span class="n">socktype</span><span class="p">,</span> <span class="n">proto</span><span class="p">,</span> <span class="n">canonname</span><span class="p">,</span> <span class="n">sa</span> <span class="o">=</span> <span class="n">res</span>

<span class="nn">~/opt/anaconda3/lib/python3.8/socket.py</span> in <span class="ni">getaddrinfo</span><span class="nt">(host, port, family, type, proto, flags)</span>
<span class="g g-Whitespace">    </span><span class="mi">917</span>     <span class="n">addrlist</span> <span class="o">=</span> <span class="p">[]</span>
<span class="ne">--&gt; </span><span class="mi">918</span>     <span class="k">for</span> <span class="n">res</span> <span class="ow">in</span> <span class="n">_socket</span><span class="o">.</span><span class="n">getaddrinfo</span><span class="p">(</span><span class="n">host</span><span class="p">,</span> <span class="n">port</span><span class="p">,</span> <span class="n">family</span><span class="p">,</span> <span class="nb">type</span><span class="p">,</span> <span class="n">proto</span><span class="p">,</span> <span class="n">flags</span><span class="p">):</span>
<span class="g g-Whitespace">    </span><span class="mi">919</span>         <span class="n">af</span><span class="p">,</span> <span class="n">socktype</span><span class="p">,</span> <span class="n">proto</span><span class="p">,</span> <span class="n">canonname</span><span class="p">,</span> <span class="n">sa</span> <span class="o">=</span> <span class="n">res</span>

<span class="ne">gaierror</span>: [Errno 8] nodename nor servname provided, or not known

<span class="n">During</span> <span class="n">handling</span> <span class="n">of</span> <span class="n">the</span> <span class="n">above</span> <span class="n">exception</span><span class="p">,</span> <span class="n">another</span> <span class="n">exception</span> <span class="n">occurred</span><span class="p">:</span>

<span class="ne">NewConnectionError</span><span class="g g-Whitespace">                        </span>Traceback (most recent call last)
<span class="nn">~/opt/anaconda3/lib/python3.8/site-packages/urllib3/connectionpool.py</span> in <span class="ni">urlopen</span><span class="nt">(self, method, url, body, headers, retries, redirect, assert_same_host, timeout, pool_timeout, release_conn, chunked, body_pos, **response_kw)</span>
<span class="g g-Whitespace">    </span><span class="mi">669</span>             <span class="c1"># Make the request on the httplib connection object.</span>
<span class="ne">--&gt; </span><span class="mi">670</span>             <span class="n">httplib_response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_make_request</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">671</span>                 <span class="n">conn</span><span class="p">,</span>

<span class="nn">~/opt/anaconda3/lib/python3.8/site-packages/urllib3/connectionpool.py</span> in <span class="ni">_make_request</span><span class="nt">(self, conn, method, url, timeout, chunked, **httplib_request_kw)</span>
<span class="g g-Whitespace">    </span><span class="mi">380</span>         <span class="k">try</span><span class="p">:</span>
<span class="ne">--&gt; </span><span class="mi">381</span>             <span class="bp">self</span><span class="o">.</span><span class="n">_validate_conn</span><span class="p">(</span><span class="n">conn</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">382</span>         <span class="k">except</span> <span class="p">(</span><span class="n">SocketTimeout</span><span class="p">,</span> <span class="n">BaseSSLError</span><span class="p">)</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>

<span class="nn">~/opt/anaconda3/lib/python3.8/site-packages/urllib3/connectionpool.py</span> in <span class="ni">_validate_conn</span><span class="nt">(self, conn)</span>
<span class="g g-Whitespace">    </span><span class="mi">977</span>         <span class="k">if</span> <span class="ow">not</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">conn</span><span class="p">,</span> <span class="s2">&quot;sock&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">):</span>  <span class="c1"># AppEngine might not have  `.sock`</span>
<span class="ne">--&gt; </span><span class="mi">978</span>             <span class="n">conn</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>
<span class="g g-Whitespace">    </span><span class="mi">979</span> 

<span class="nn">~/opt/anaconda3/lib/python3.8/site-packages/urllib3/connection.py</span> in <span class="ni">connect</span><span class="nt">(self)</span>
<span class="g g-Whitespace">    </span><span class="mi">308</span>         <span class="c1"># Add certificate verification</span>
<span class="ne">--&gt; </span><span class="mi">309</span>         <span class="n">conn</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_new_conn</span><span class="p">()</span>
<span class="g g-Whitespace">    </span><span class="mi">310</span>         <span class="n">hostname</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">host</span>

<span class="nn">~/opt/anaconda3/lib/python3.8/site-packages/urllib3/connection.py</span> in <span class="ni">_new_conn</span><span class="nt">(self)</span>
<span class="g g-Whitespace">    </span><span class="mi">170</span>         <span class="k">except</span> <span class="n">SocketError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
<span class="ne">--&gt; </span><span class="mi">171</span>             <span class="k">raise</span> <span class="n">NewConnectionError</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">172</span>                 <span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;Failed to establish a new connection: </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">e</span>

<span class="ne">NewConnectionError</span>: &lt;urllib3.connection.HTTPSConnection object at 0x7f9e70629d00&gt;: Failed to establish a new connection: [Errno 8] nodename nor servname provided, or not known

<span class="n">During</span> <span class="n">handling</span> <span class="n">of</span> <span class="n">the</span> <span class="n">above</span> <span class="n">exception</span><span class="p">,</span> <span class="n">another</span> <span class="n">exception</span> <span class="n">occurred</span><span class="p">:</span>

<span class="ne">MaxRetryError</span><span class="g g-Whitespace">                             </span>Traceback (most recent call last)
<span class="nn">~/opt/anaconda3/lib/python3.8/site-packages/requests/adapters.py</span> in <span class="ni">send</span><span class="nt">(self, request, stream, timeout, verify, cert, proxies)</span>
<span class="g g-Whitespace">    </span><span class="mi">438</span>             <span class="k">if</span> <span class="ow">not</span> <span class="n">chunked</span><span class="p">:</span>
<span class="ne">--&gt; </span><span class="mi">439</span>                 <span class="n">resp</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">urlopen</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">440</span>                     <span class="n">method</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">method</span><span class="p">,</span>

<span class="nn">~/opt/anaconda3/lib/python3.8/site-packages/urllib3/connectionpool.py</span> in <span class="ni">urlopen</span><span class="nt">(self, method, url, body, headers, retries, redirect, assert_same_host, timeout, pool_timeout, release_conn, chunked, body_pos, **response_kw)</span>
<span class="g g-Whitespace">    </span><span class="mi">725</span> 
<span class="ne">--&gt; </span><span class="mi">726</span>             <span class="n">retries</span> <span class="o">=</span> <span class="n">retries</span><span class="o">.</span><span class="n">increment</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">727</span>                 <span class="n">method</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">error</span><span class="o">=</span><span class="n">e</span><span class="p">,</span> <span class="n">_pool</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span> <span class="n">_stacktrace</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">exc_info</span><span class="p">()[</span><span class="mi">2</span><span class="p">]</span>

<span class="nn">~/opt/anaconda3/lib/python3.8/site-packages/urllib3/util/retry.py</span> in <span class="ni">increment</span><span class="nt">(self, method, url, response, error, _pool, _stacktrace)</span>
<span class="g g-Whitespace">    </span><span class="mi">445</span>         <span class="k">if</span> <span class="n">new_retry</span><span class="o">.</span><span class="n">is_exhausted</span><span class="p">():</span>
<span class="ne">--&gt; </span><span class="mi">446</span>             <span class="k">raise</span> <span class="n">MaxRetryError</span><span class="p">(</span><span class="n">_pool</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">error</span> <span class="ow">or</span> <span class="n">ResponseError</span><span class="p">(</span><span class="n">cause</span><span class="p">))</span>
<span class="g g-Whitespace">    </span><span class="mi">447</span> 

<span class="ne">MaxRetryError</span>: HTTPSConnectionPool(host=&#39;api.ratesapi.io&#39;, port=443): Max retries exceeded with url: /api/latest?base=USD&amp;rtype=fpy (Caused by NewConnectionError(&#39;&lt;urllib3.connection.HTTPSConnection object at 0x7f9e70629d00&gt;: Failed to establish a new connection: [Errno 8] nodename nor servname provided, or not known&#39;))

<span class="n">During</span> <span class="n">handling</span> <span class="n">of</span> <span class="n">the</span> <span class="n">above</span> <span class="n">exception</span><span class="p">,</span> <span class="n">another</span> <span class="n">exception</span> <span class="n">occurred</span><span class="p">:</span>

<span class="ne">ConnectionError</span><span class="g g-Whitespace">                           </span>Traceback (most recent call last)
<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">3</span><span class="o">-</span><span class="n">c8ca15bc87d1</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="g g-Whitespace">      </span><span class="mi">1</span> <span class="n">usd_rates</span> <span class="o">=</span> <span class="p">(</span>
<span class="ne">----&gt; </span><span class="mi">2</span>     <span class="n">CurrencyRates</span><span class="p">()</span>
<span class="g g-Whitespace">      </span><span class="mi">3</span>     <span class="o">.</span><span class="n">get_rates</span><span class="p">(</span><span class="s1">&#39;USD&#39;</span><span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">4</span> <span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">5</span> <span class="n">usd_rates</span>

<span class="nn">~/opt/anaconda3/lib/python3.8/site-packages/forex_python/converter.py</span> in <span class="ni">get_rates</span><span class="nt">(self, base_cur, date_obj)</span>
<span class="g g-Whitespace">     </span><span class="mi">50</span>         <span class="n">payload</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;base&#39;</span><span class="p">:</span> <span class="n">base_cur</span><span class="p">,</span> <span class="s1">&#39;rtype&#39;</span><span class="p">:</span> <span class="s1">&#39;fpy&#39;</span><span class="p">}</span>
<span class="g g-Whitespace">     </span><span class="mi">51</span>         <span class="n">source_url</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_source_url</span><span class="p">()</span> <span class="o">+</span> <span class="n">date_str</span>
<span class="ne">---&gt; </span><span class="mi">52</span>         <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">source_url</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">payload</span><span class="p">)</span>
<span class="g g-Whitespace">     </span><span class="mi">53</span>         <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">status_code</span> <span class="o">==</span> <span class="mi">200</span><span class="p">:</span>
<span class="g g-Whitespace">     </span><span class="mi">54</span>             <span class="n">rates</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_decode_rates</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>

<span class="nn">~/opt/anaconda3/lib/python3.8/site-packages/requests/api.py</span> in <span class="ni">get</span><span class="nt">(url, params, **kwargs)</span>
<span class="g g-Whitespace">     </span><span class="mi">74</span> 
<span class="g g-Whitespace">     </span><span class="mi">75</span>     <span class="n">kwargs</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="s1">&#39;allow_redirects&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
<span class="ne">---&gt; </span><span class="mi">76</span>     <span class="k">return</span> <span class="n">request</span><span class="p">(</span><span class="s1">&#39;get&#39;</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">params</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<span class="g g-Whitespace">     </span><span class="mi">77</span> 
<span class="g g-Whitespace">     </span><span class="mi">78</span> 

<span class="nn">~/opt/anaconda3/lib/python3.8/site-packages/requests/api.py</span> in <span class="ni">request</span><span class="nt">(method, url, **kwargs)</span>
<span class="g g-Whitespace">     </span><span class="mi">59</span>     <span class="c1"># cases, and look like a memory leak in others.</span>
<span class="g g-Whitespace">     </span><span class="mi">60</span>     <span class="k">with</span> <span class="n">sessions</span><span class="o">.</span><span class="n">Session</span><span class="p">()</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
<span class="ne">---&gt; </span><span class="mi">61</span>         <span class="k">return</span> <span class="n">session</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="n">method</span><span class="p">,</span> <span class="n">url</span><span class="o">=</span><span class="n">url</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<span class="g g-Whitespace">     </span><span class="mi">62</span> 
<span class="g g-Whitespace">     </span><span class="mi">63</span> 

<span class="nn">~/opt/anaconda3/lib/python3.8/site-packages/requests/sessions.py</span> in <span class="ni">request</span><span class="nt">(self, method, url, params, data, headers, cookies, files, auth, timeout, allow_redirects, proxies, hooks, stream, verify, cert, json)</span>
<span class="g g-Whitespace">    </span><span class="mi">540</span>         <span class="p">}</span>
<span class="g g-Whitespace">    </span><span class="mi">541</span>         <span class="n">send_kwargs</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">settings</span><span class="p">)</span>
<span class="ne">--&gt; </span><span class="mi">542</span>         <span class="n">resp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="n">prep</span><span class="p">,</span> <span class="o">**</span><span class="n">send_kwargs</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">543</span> 
<span class="g g-Whitespace">    </span><span class="mi">544</span>         <span class="k">return</span> <span class="n">resp</span>

<span class="nn">~/opt/anaconda3/lib/python3.8/site-packages/requests/sessions.py</span> in <span class="ni">send</span><span class="nt">(self, request, **kwargs)</span>
<span class="g g-Whitespace">    </span><span class="mi">653</span> 
<span class="g g-Whitespace">    </span><span class="mi">654</span>         <span class="c1"># Send the request</span>
<span class="ne">--&gt; </span><span class="mi">655</span>         <span class="n">r</span> <span class="o">=</span> <span class="n">adapter</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">656</span> 
<span class="g g-Whitespace">    </span><span class="mi">657</span>         <span class="c1"># Total elapsed time of the request (approximately)</span>

<span class="nn">~/opt/anaconda3/lib/python3.8/site-packages/requests/adapters.py</span> in <span class="ni">send</span><span class="nt">(self, request, stream, timeout, verify, cert, proxies)</span>
<span class="g g-Whitespace">    </span><span class="mi">514</span>                 <span class="k">raise</span> <span class="n">SSLError</span><span class="p">(</span><span class="n">e</span><span class="p">,</span> <span class="n">request</span><span class="o">=</span><span class="n">request</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">515</span> 
<span class="ne">--&gt; </span><span class="mi">516</span>             <span class="k">raise</span> <span class="ne">ConnectionError</span><span class="p">(</span><span class="n">e</span><span class="p">,</span> <span class="n">request</span><span class="o">=</span><span class="n">request</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">517</span> 
<span class="g g-Whitespace">    </span><span class="mi">518</span>         <span class="k">except</span> <span class="n">ClosedPoolError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>

<span class="ne">ConnectionError</span>: HTTPSConnectionPool(host=&#39;api.ratesapi.io&#39;, port=443): Max retries exceeded with url: /api/latest?base=USD&amp;rtype=fpy (Caused by NewConnectionError(&#39;&lt;urllib3.connection.HTTPSConnection object at 0x7f9e70629d00&gt;: Failed to establish a new connection: [Errno 8] nodename nor servname provided, or not known&#39;))
</pre></div>
</div>
</div>
</div>
<p>Let’s turn it into something more readable and easier to manipulate, by converting its type from Dictionary to DataFrame, and give its columns proper informative names.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">usd_rates_df</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">pd</span>
    <span class="o">.</span><span class="n">DataFrame</span>
    <span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">usd_rates</span><span class="p">,</span> <span class="n">orient</span><span class="o">=</span><span class="s1">&#39;index&#39;</span><span class="p">)</span>
    <span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="mi">0</span> <span class="p">:</span> <span class="s1">&#39;Rate&#39;</span><span class="p">})</span>
<span class="p">)</span>
<span class="n">usd_rates_df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Rate</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>GBP</th>
      <td>0.712645</td>
    </tr>
    <tr>
      <th>HKD</th>
      <td>7.753604</td>
    </tr>
    <tr>
      <th>IDR</th>
      <td>14082.552105</td>
    </tr>
    <tr>
      <th>ILS</th>
      <td>3.270451</td>
    </tr>
    <tr>
      <th>DKK</th>
      <td>6.126370</td>
    </tr>
    <tr>
      <th>INR</th>
      <td>72.505561</td>
    </tr>
    <tr>
      <th>CHF</th>
      <td>0.893896</td>
    </tr>
    <tr>
      <th>MXN</th>
      <td>20.355383</td>
    </tr>
    <tr>
      <th>CZK</th>
      <td>21.294176</td>
    </tr>
    <tr>
      <th>SGD</th>
      <td>1.322926</td>
    </tr>
    <tr>
      <th>THB</th>
      <td>29.974462</td>
    </tr>
    <tr>
      <th>HRK</th>
      <td>6.242689</td>
    </tr>
    <tr>
      <th>EUR</th>
      <td>0.823791</td>
    </tr>
    <tr>
      <th>MYR</th>
      <td>4.040531</td>
    </tr>
    <tr>
      <th>NOK</th>
      <td>8.410495</td>
    </tr>
    <tr>
      <th>CNY</th>
      <td>6.451767</td>
    </tr>
    <tr>
      <th>BGN</th>
      <td>1.611171</td>
    </tr>
    <tr>
      <th>PHP</th>
      <td>48.476810</td>
    </tr>
    <tr>
      <th>PLN</th>
      <td>3.693055</td>
    </tr>
    <tr>
      <th>ZAR</th>
      <td>14.613312</td>
    </tr>
    <tr>
      <th>CAD</th>
      <td>1.260977</td>
    </tr>
    <tr>
      <th>ISK</th>
      <td>128.181893</td>
    </tr>
    <tr>
      <th>BRL</th>
      <td>5.406788</td>
    </tr>
    <tr>
      <th>RON</th>
      <td>4.016641</td>
    </tr>
    <tr>
      <th>NZD</th>
      <td>1.370953</td>
    </tr>
    <tr>
      <th>TRY</th>
      <td>6.958563</td>
    </tr>
    <tr>
      <th>JPY</th>
      <td>105.288739</td>
    </tr>
    <tr>
      <th>RUB</th>
      <td>73.819013</td>
    </tr>
    <tr>
      <th>KRW</th>
      <td>1103.542302</td>
    </tr>
    <tr>
      <th>USD</th>
      <td>1.000000</td>
    </tr>
    <tr>
      <th>AUD</th>
      <td>1.272345</td>
    </tr>
    <tr>
      <th>HUF</th>
      <td>295.329105</td>
    </tr>
    <tr>
      <th>SEK</th>
      <td>8.265096</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>This looks like a useful table to have if you work with multiple currencies in your organization</p>
<div class="section" id="getting-rates-for-a-specific-date">
<h3>Getting rates for a specific date<a class="headerlink" href="#getting-rates-for-a-specific-date" title="Permalink to this headline">¶</a></h3>
<p>We will use the date functionality from the API provider.</p>
<ul class="simple">
<li><p>Call the currency API</p></li>
<li><p>Request exchange rates</p></li>
<li><p>for USD</p></li>
<li><p>for 2020-05-23</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">usd_rate_on_date</span> <span class="o">=</span> <span class="p">(</span>
   <span class="n">CurrencyRates</span><span class="p">()</span>
    <span class="o">.</span><span class="n">get_rates</span><span class="p">(</span>
        <span class="s1">&#39;USD&#39;</span><span class="p">,</span>
        <span class="n">datetime</span><span class="p">(</span><span class="mi">2020</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">23</span><span class="p">)</span>
    <span class="p">)</span>
<span class="p">)</span>
<span class="n">usd_rate_on_date</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;GBP&#39;: 0.8213774762,
 &#39;HKD&#39;: 7.7559611152,
 &#39;IDR&#39;: 14901.9992663243,
 &#39;ILS&#39;: 3.527054292,
 &#39;DKK&#39;: 6.8395084373,
 &#39;INR&#39;: 75.8680300807,
 &#39;CHF&#39;: 0.9712949376,
 &#39;MXN&#39;: 22.9686353632,
 &#39;CZK&#39;: 24.9541452678,
 &#39;SGD&#39;: 1.4234225972,
 &#39;THB&#39;: 31.8947175348,
 &#39;HRK&#39;: 6.9557043287,
 &#39;EUR&#39;: 0.9170946442,
 &#39;MYR&#39;: 4.3625275128,
 &#39;NOK&#39;: 10.0034849596,
 &#39;CNY&#39;: 7.1347212032,
 &#39;BGN&#39;: 1.7936537051,
 &#39;PHP&#39;: 50.76027146,
 &#39;PLN&#39;: 4.1460931768,
 &#39;ZAR&#39;: 17.6518708731,
 &#39;CAD&#39;: 1.40067865,
 &#39;ISK&#39;: 143.3418928833,
 &#39;BRL&#39;: 5.581162876,
 &#39;RON&#39;: 4.441947909,
 &#39;NZD&#39;: 1.6388481291,
 &#39;TRY&#39;: 6.8073184153,
 &#39;JPY&#39;: 107.5385179751,
 &#39;RUB&#39;: 71.4544203962,
 &#39;KRW&#39;: 1241.2967718269,
 &#39;USD&#39;: 1.0,
 &#39;AUD&#39;: 1.530997799,
 &#39;HUF&#39;: 320.432868672,
 &#39;SEK&#39;: 9.663701394}
</pre></div>
</div>
</div>
</div>
<p>Now, try to use the functions showed prior in order to convert it into a dataframe.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Enter your code here</span>
</pre></div>
</div>
</div>
</div>
<p>And in case you wondered how to do so.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">usd_rate_on_date</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">pd</span>
    <span class="o">.</span><span class="n">DataFrame</span>
    <span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">usd_rate_on_date</span><span class="p">,</span> <span class="n">orient</span><span class="o">=</span><span class="s1">&#39;index&#39;</span><span class="p">)</span>
    <span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="mi">0</span> <span class="p">:</span> <span class="s1">&#39;Rate&#39;</span><span class="p">})</span>
<span class="p">)</span>
<span class="n">usd_rate_on_date</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Rate</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>GBP</th>
      <td>0.821377</td>
    </tr>
    <tr>
      <th>HKD</th>
      <td>7.755961</td>
    </tr>
    <tr>
      <th>IDR</th>
      <td>14901.999266</td>
    </tr>
    <tr>
      <th>ILS</th>
      <td>3.527054</td>
    </tr>
    <tr>
      <th>DKK</th>
      <td>6.839508</td>
    </tr>
    <tr>
      <th>INR</th>
      <td>75.868030</td>
    </tr>
    <tr>
      <th>CHF</th>
      <td>0.971295</td>
    </tr>
    <tr>
      <th>MXN</th>
      <td>22.968635</td>
    </tr>
    <tr>
      <th>CZK</th>
      <td>24.954145</td>
    </tr>
    <tr>
      <th>SGD</th>
      <td>1.423423</td>
    </tr>
    <tr>
      <th>THB</th>
      <td>31.894718</td>
    </tr>
    <tr>
      <th>HRK</th>
      <td>6.955704</td>
    </tr>
    <tr>
      <th>EUR</th>
      <td>0.917095</td>
    </tr>
    <tr>
      <th>MYR</th>
      <td>4.362528</td>
    </tr>
    <tr>
      <th>NOK</th>
      <td>10.003485</td>
    </tr>
    <tr>
      <th>CNY</th>
      <td>7.134721</td>
    </tr>
    <tr>
      <th>BGN</th>
      <td>1.793654</td>
    </tr>
    <tr>
      <th>PHP</th>
      <td>50.760271</td>
    </tr>
    <tr>
      <th>PLN</th>
      <td>4.146093</td>
    </tr>
    <tr>
      <th>ZAR</th>
      <td>17.651871</td>
    </tr>
    <tr>
      <th>CAD</th>
      <td>1.400679</td>
    </tr>
    <tr>
      <th>ISK</th>
      <td>143.341893</td>
    </tr>
    <tr>
      <th>BRL</th>
      <td>5.581163</td>
    </tr>
    <tr>
      <th>RON</th>
      <td>4.441948</td>
    </tr>
    <tr>
      <th>NZD</th>
      <td>1.638848</td>
    </tr>
    <tr>
      <th>TRY</th>
      <td>6.807318</td>
    </tr>
    <tr>
      <th>JPY</th>
      <td>107.538518</td>
    </tr>
    <tr>
      <th>RUB</th>
      <td>71.454420</td>
    </tr>
    <tr>
      <th>KRW</th>
      <td>1241.296772</td>
    </tr>
    <tr>
      <th>USD</th>
      <td>1.000000</td>
    </tr>
    <tr>
      <th>AUD</th>
      <td>1.530998</td>
    </tr>
    <tr>
      <th>HUF</th>
      <td>320.432869</td>
    </tr>
    <tr>
      <th>SEK</th>
      <td>9.663701</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</div>
<div class="section" id="putting-it-all-together">
<h3>Putting it all together<a class="headerlink" href="#putting-it-all-together" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Create a Dataframe</p></li>
<li><p>From dictionary</p></li>
<li><p>Taken from the currency rate API</p></li>
<li><p>for USD</p></li>
<li><p>based on string date of 2020-05-23</p></li>
<li><p>as a single column</p></li>
<li><p>rename the column to Rate</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">usd_rate_on_date</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">pd</span>
    <span class="o">.</span><span class="n">DataFrame</span>
    <span class="o">.</span><span class="n">from_dict</span><span class="p">(</span>
        <span class="n">CurrencyRates</span><span class="p">()</span>
            <span class="o">.</span><span class="n">get_rates</span><span class="p">(</span>
                <span class="s1">&#39;USD&#39;</span><span class="p">,</span>
                <span class="n">datetime</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span><span class="s1">&#39;2020-05-23&#39;</span><span class="p">,</span> <span class="s1">&#39;%Y-%m-</span><span class="si">%d</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="p">),</span>
        <span class="n">orient</span><span class="o">=</span><span class="s1">&#39;index&#39;</span><span class="p">)</span>
    <span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="mi">0</span> <span class="p">:</span> <span class="s1">&#39;Rate&#39;</span><span class="p">})</span>
<span class="p">)</span>
<span class="n">usd_rate_on_date</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Rate</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>GBP</th>
      <td>0.821377</td>
    </tr>
    <tr>
      <th>HKD</th>
      <td>7.755961</td>
    </tr>
    <tr>
      <th>IDR</th>
      <td>14901.999266</td>
    </tr>
    <tr>
      <th>ILS</th>
      <td>3.527054</td>
    </tr>
    <tr>
      <th>DKK</th>
      <td>6.839508</td>
    </tr>
    <tr>
      <th>INR</th>
      <td>75.868030</td>
    </tr>
    <tr>
      <th>CHF</th>
      <td>0.971295</td>
    </tr>
    <tr>
      <th>MXN</th>
      <td>22.968635</td>
    </tr>
    <tr>
      <th>CZK</th>
      <td>24.954145</td>
    </tr>
    <tr>
      <th>SGD</th>
      <td>1.423423</td>
    </tr>
    <tr>
      <th>THB</th>
      <td>31.894718</td>
    </tr>
    <tr>
      <th>HRK</th>
      <td>6.955704</td>
    </tr>
    <tr>
      <th>EUR</th>
      <td>0.917095</td>
    </tr>
    <tr>
      <th>MYR</th>
      <td>4.362528</td>
    </tr>
    <tr>
      <th>NOK</th>
      <td>10.003485</td>
    </tr>
    <tr>
      <th>CNY</th>
      <td>7.134721</td>
    </tr>
    <tr>
      <th>BGN</th>
      <td>1.793654</td>
    </tr>
    <tr>
      <th>PHP</th>
      <td>50.760271</td>
    </tr>
    <tr>
      <th>PLN</th>
      <td>4.146093</td>
    </tr>
    <tr>
      <th>ZAR</th>
      <td>17.651871</td>
    </tr>
    <tr>
      <th>CAD</th>
      <td>1.400679</td>
    </tr>
    <tr>
      <th>ISK</th>
      <td>143.341893</td>
    </tr>
    <tr>
      <th>BRL</th>
      <td>5.581163</td>
    </tr>
    <tr>
      <th>RON</th>
      <td>4.441948</td>
    </tr>
    <tr>
      <th>NZD</th>
      <td>1.638848</td>
    </tr>
    <tr>
      <th>TRY</th>
      <td>6.807318</td>
    </tr>
    <tr>
      <th>JPY</th>
      <td>107.538518</td>
    </tr>
    <tr>
      <th>RUB</th>
      <td>71.454420</td>
    </tr>
    <tr>
      <th>KRW</th>
      <td>1241.296772</td>
    </tr>
    <tr>
      <th>USD</th>
      <td>1.000000</td>
    </tr>
    <tr>
      <th>AUD</th>
      <td>1.530998</td>
    </tr>
    <tr>
      <th>HUF</th>
      <td>320.432869</td>
    </tr>
    <tr>
      <th>SEK</th>
      <td>9.663701</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</div>
</div>
<div class="section" id="deal-conversion">
<h2>Deal conversion<a class="headerlink" href="#deal-conversion" title="Permalink to this headline">¶</a></h2>
<p>Now, let’s create a calculator that get’s the amount of money we got/payed and in which currency</p>
<ul class="simple">
<li><p>Call the API</p></li>
<li><p>For conversion rate</p></li>
<li><p>from USD</p></li>
<li><p>to EUR</p></li>
<li><p>of $100</p></li>
<li><p>on 2020-05-23</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span> 
    <span class="n">CurrencyRates</span><span class="p">()</span>
    <span class="o">.</span><span class="n">convert</span><span class="p">(</span>
            <span class="s1">&#39;USD&#39;</span><span class="p">,</span>
            <span class="s1">&#39;EUR&#39;</span><span class="p">,</span>
             <span class="mi">100</span><span class="p">,</span>
            <span class="n">datetime</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span><span class="s1">&#39;2020-05-23&#39;</span><span class="p">,</span> <span class="s1">&#39;%Y-%m-</span><span class="si">%d</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>91.70946442
</pre></div>
</div>
</div>
</div>
<p>Now this data is useful while trying to calculate all sort of financial related data.</p>
<div class="section" id="additional-rates-sources">
<h3>Additional rates sources<a class="headerlink" href="#additional-rates-sources" title="Permalink to this headline">¶</a></h3>
<p>And for cases when the wanted currency is not available through the API, there is always the option of scrapping it.</p>
<p>Here is example of scrapping ILS rate to USD from one of the popular financial websites in Israel.</p>
<ul class="simple">
<li><p>Create dataframes from HTML tables in the newspaper currency website</p></li>
<li><p>Take the first table (index 0)</p></li>
<li><p>Take the value in cell 1,1</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span>
    <span class="n">pd</span>
    <span class="o">.</span><span class="n">read_html</span><span class="p">(</span><span class="s1">&#39;https://www.globes.co.il/portal/instrument.aspx?instrumentid=10463&#39;</span><span class="p">)</span>
    <span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;3.271&#39;
</pre></div>
</div>
</div>
</div>
<p>In this example we have scrapped the currency rate from a non-API based website for our use.<br>
As for this example, this technique is relevent for many optional analysis.</p>
</div>
</div>
<div class="section" id="analysis-use-case">
<h2>Analysis Use-case<a class="headerlink" href="#analysis-use-case" title="Permalink to this headline">¶</a></h2>
<p>Now, use case to show how useful descion based data regarding currency could be.</p>
<p>In order to show that, we will scrap a dataframe of the rates of the ILS-USD for the last almost full year.</p>
<ul class="simple">
<li><p>Read the table from the <a class="reference external" href="http://exchange-rate.org">exchange-rate.org</a> website</p></li>
<li><p>Rename the column to be more meaningful</p></li>
<li><p>Filter out table lines that are invalid (the Rate column has more than 20 characters)</p></li>
<li><p>Remove all the characters from the <em>Rate</em> column that are not a digit (\d) or dot (.) using regular expression syntax</p></li>
<li><p>convert it to a float type</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">pd</span>
    <span class="o">.</span><span class="n">read_html</span><span class="p">(</span><span class="s1">&#39;https://www.exchange-rates.org/history/ILS/USD/T&#39;</span><span class="p">)</span>
    <span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span> <span class="p">:</span> <span class="s1">&#39;Date&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">:</span> <span class="s1">&#39;Day&#39;</span><span class="p">,</span> <span class="mi">2</span> <span class="p">:</span> <span class="s1">&#39;Rate&#39;</span><span class="p">,</span> <span class="mi">3</span> <span class="p">:</span> <span class="s1">&#39;Notes&#39;</span><span class="p">})</span>
    <span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;Rate.str.len() &lt; 20&#39;</span><span class="p">)</span>
    <span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="n">Rate</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span> <span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">Rate</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;[^\d\.]&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="n">regex</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">float</span><span class="p">))</span>
<span class="p">)</span>
<span class="n">df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Date</th>
      <th>Day</th>
      <th>Rate</th>
      <th>Notes</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2/19/2021</td>
      <td>Friday</td>
      <td>3.27334</td>
      <td>USD ILS rate for 2/19/2021</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2/18/2021</td>
      <td>Thursday</td>
      <td>3.26996</td>
      <td>USD ILS rate for 2/18/2021</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2/17/2021</td>
      <td>Wednesday</td>
      <td>3.26633</td>
      <td>USD ILS rate for 2/17/2021</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2/16/2021</td>
      <td>Tuesday</td>
      <td>3.24366</td>
      <td>USD ILS rate for 2/16/2021</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2/15/2021</td>
      <td>Monday</td>
      <td>3.24344</td>
      <td>USD ILS rate for 2/15/2021</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>133</th>
      <td>8/27/2020</td>
      <td>Thursday</td>
      <td>3.36740</td>
      <td>USD ILS rate for 8/27/2020</td>
    </tr>
    <tr>
      <th>134</th>
      <td>8/26/2020</td>
      <td>Wednesday</td>
      <td>3.39530</td>
      <td>USD ILS rate for 8/26/2020</td>
    </tr>
    <tr>
      <th>135</th>
      <td>8/25/2020</td>
      <td>Tuesday</td>
      <td>3.39675</td>
      <td>USD ILS rate for 8/25/2020</td>
    </tr>
    <tr>
      <th>136</th>
      <td>8/24/2020</td>
      <td>Monday</td>
      <td>3.40691</td>
      <td>USD ILS rate for 8/24/2020</td>
    </tr>
    <tr>
      <th>137</th>
      <td>8/23/2020</td>
      <td>Sunday</td>
      <td>3.39565</td>
      <td>USD ILS rate for 8/23/2020</td>
    </tr>
  </tbody>
</table>
<p>136 rows × 4 columns</p>
</div></div></div>
</div>
<p>Now let’s check in which day of the week, does the rate of the ILS is “stronger”, in accordance to the USD.<br>
This data could be useful in order to maximize the rate when doing currency conversions on a regular basis.</p>
<p>Now let’s try to check for the days with the highest average rate of the ILS in comparing to the USD.</p>
<p>In order to do so, we will aggregate with Group-by, all of the values by the Day of the week, and check for the average (mean) value for each day.</p>
<p>Beside that, let’s also orgnaize our data by some order, in order case descending.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span>
    <span class="n">df</span>
    <span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;Day&#39;</span><span class="p">])</span>
    <span class="p">[</span><span class="s1">&#39;Rate&#39;</span><span class="p">]</span>
    <span class="o">.</span><span class="n">mean</span><span class="p">()</span>
    <span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Day
Sunday       3.411458
Monday       3.329011
Friday       3.325780
Tuesday      3.323671
Thursday     3.321638
Wednesday    3.320156
Name: Rate, dtype: float64
</pre></div>
</div>
</div>
</div>
<p>And the result is? Well, Sunday.<br></p>
<p>Our guess is that its related to the fact that Sunday is weekend in the US and therefore, trade volumes are lower.</p>
<p>This, we assess, reduces the affect of the general trend.</p>
<p>Another test, would be to do the same, but with the median value for each week day.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span>
    <span class="n">df</span>
    <span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;Day&#39;</span><span class="p">])</span>
    <span class="p">[</span><span class="s1">&#39;Rate&#39;</span><span class="p">]</span>
    <span class="o">.</span><span class="n">median</span><span class="p">()</span>
    <span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Day
Sunday       3.408500
Monday       3.352180
Tuesday      3.344420
Wednesday    3.337945
Thursday     3.329660
Friday       3.324850
Name: Rate, dtype: float64
</pre></div>
</div>
</div>
</div>
<div class="section" id="analysis-output">
<h3>Analysis output<a class="headerlink" href="#analysis-output" title="Permalink to this headline">¶</a></h3>
<p>Bottom line, if you are converting ILS to USD, try doing it on Sunday. You will probably get the better rate. On the other hand, if you are trading USD to ILS, just don’t do it on Sunday.</p>
<p>One more note, did you notice how we used and scrapped many types of websites, side by our API.</p>
<p>The reason? None of them was sufficient so we had to dig deeper. and thats OK.</p>
<p>So, one last tip from us to you, don’t be afraid of looking for your data source.</p>
</div>
</div>
<div class="section" id="data-visualization">
<h2>Data Visualization<a class="headerlink" href="#data-visualization" title="Permalink to this headline">¶</a></h2>
<div class="section" id="line-chart">
<h3>Line Chart<a class="headerlink" href="#line-chart" title="Permalink to this headline">¶</a></h3>
<p>Now, let’s try to better see and and possibly explorate, the results we just recieved.</p>
<p>First, few actions needs to be done in prior.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">usd_to_ils_rates</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">pd</span>
    <span class="o">.</span><span class="n">read_html</span><span class="p">(</span><span class="s1">&#39;https://www.exchange-rates.org/history/ILS/USD/T&#39;</span><span class="p">)</span>
    <span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span> <span class="p">:</span> <span class="s1">&#39;Date&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">:</span> <span class="s1">&#39;Day&#39;</span><span class="p">,</span> <span class="mi">2</span> <span class="p">:</span> <span class="s1">&#39;Rate&#39;</span><span class="p">,</span> <span class="mi">3</span> <span class="p">:</span> <span class="s1">&#39;Notes&#39;</span><span class="p">})</span>
    <span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;Rate.str.len() &lt; 20&#39;</span><span class="p">)</span>
    <span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="n">Rate</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span> <span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">Rate</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;[^\d\.]&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="n">regex</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">float</span><span class="p">))</span>
    <span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="n">Date</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span> <span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">Date</span><span class="p">))</span>
    <span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;Date&#39;</span><span class="p">)</span>
<span class="p">)</span>
<span class="n">usd_to_ils_rates</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Day</th>
      <th>Rate</th>
      <th>Notes</th>
    </tr>
    <tr>
      <th>Date</th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2021-02-19</th>
      <td>Friday</td>
      <td>3.27334</td>
      <td>USD ILS rate for 2/19/2021</td>
    </tr>
    <tr>
      <th>2021-02-18</th>
      <td>Thursday</td>
      <td>3.26996</td>
      <td>USD ILS rate for 2/18/2021</td>
    </tr>
    <tr>
      <th>2021-02-17</th>
      <td>Wednesday</td>
      <td>3.26633</td>
      <td>USD ILS rate for 2/17/2021</td>
    </tr>
    <tr>
      <th>2021-02-16</th>
      <td>Tuesday</td>
      <td>3.24366</td>
      <td>USD ILS rate for 2/16/2021</td>
    </tr>
    <tr>
      <th>2021-02-15</th>
      <td>Monday</td>
      <td>3.24344</td>
      <td>USD ILS rate for 2/15/2021</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>2020-08-27</th>
      <td>Thursday</td>
      <td>3.36740</td>
      <td>USD ILS rate for 8/27/2020</td>
    </tr>
    <tr>
      <th>2020-08-26</th>
      <td>Wednesday</td>
      <td>3.39530</td>
      <td>USD ILS rate for 8/26/2020</td>
    </tr>
    <tr>
      <th>2020-08-25</th>
      <td>Tuesday</td>
      <td>3.39675</td>
      <td>USD ILS rate for 8/25/2020</td>
    </tr>
    <tr>
      <th>2020-08-24</th>
      <td>Monday</td>
      <td>3.40691</td>
      <td>USD ILS rate for 8/24/2020</td>
    </tr>
    <tr>
      <th>2020-08-23</th>
      <td>Sunday</td>
      <td>3.39565</td>
      <td>USD ILS rate for 8/23/2020</td>
    </tr>
  </tbody>
</table>
<p>136 rows × 3 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span>
    <span class="n">usd_to_ils_rates</span>
    <span class="p">[</span><span class="s1">&#39;Rate&#39;</span><span class="p">]</span>
    <span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">&#39;Exchange Rates: USD-ILS&#39;</span><span class="p">)</span>
<span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/08.02_Currency_analysis_38_0.svg" src="../_images/08.02_Currency_analysis_38_0.svg" /></div>
</div>
</div>
<div class="section" id="scatter-plot">
<h3>Scatter Plot<a class="headerlink" href="#scatter-plot" title="Permalink to this headline">¶</a></h3>
<p>Now let’s try something else, to demonstrate the differences between the days.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span>
    <span class="n">usd_to_ils_rates</span>
    <span class="o">.</span><span class="n">plot</span>
    <span class="o">.</span><span class="n">scatter</span><span class="p">(</span>
        <span class="n">x</span><span class="o">=</span><span class="s1">&#39;Day&#39;</span><span class="p">,</span>
        <span class="n">y</span><span class="o">=</span><span class="s1">&#39;Rate&#39;</span><span class="p">,</span>
        <span class="n">c</span><span class="o">=</span><span class="s1">&#39;Red&#39;</span><span class="p">,</span>
        <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Exchange Rates: USD-ILS across the week days&#39;</span>
    <span class="p">)</span>
<span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/08.02_Currency_analysis_40_0.svg" src="../_images/08.02_Currency_analysis_40_0.svg" /></div>
</div>
<p>Something here looks odd. it appears there are less trading ‘Sundays’, which could be the reason for our former result.<br>
Let’s check it.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span>
    <span class="n">usd_to_ils_rates</span>
    <span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;Day&#39;</span><span class="p">)</span>
    <span class="p">[</span><span class="s1">&#39;Rate&#39;</span><span class="p">]</span>
    <span class="o">.</span><span class="n">count</span><span class="p">()</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Day
Friday       26
Monday       26
Sunday        6
Thursday     26
Tuesday      26
Wednesday    26
Name: Rate, dtype: int64
</pre></div>
</div>
</div>
</div>
<p>Yep, totally true. therefore, let’s check for the all the other days excluding Sunday.<br>
Filtering the Dataframe to exclude Sundays.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span>
    <span class="n">usd_to_ils_rates</span>
    <span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;Day != &quot;Sunday&quot;&#39;</span><span class="p">)</span>
    <span class="o">.</span><span class="n">plot</span>
    <span class="o">.</span><span class="n">scatter</span><span class="p">(</span>
        <span class="n">x</span><span class="o">=</span><span class="s1">&#39;Day&#39;</span><span class="p">,</span>
        <span class="n">y</span><span class="o">=</span><span class="s1">&#39;Rate&#39;</span><span class="p">,</span>
        <span class="n">c</span><span class="o">=</span><span class="s1">&#39;Green&#39;</span><span class="p">,</span>
        <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Exchange Rates: USD-ILS across the working days&#39;</span>
    <span class="p">)</span>
<span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/08.02_Currency_analysis_44_0.svg" src="../_images/08.02_Currency_analysis_44_0.svg" /></div>
</div>
<p>And based on the most lower points, we can now see that the lowest days occurs in the mid-of-the-week days.<br></p>
</div>
</div>
<div class="section" id="analyze-across-weeks-using-groupby">
<h2>Analyze Across Weeks using Groupby<a class="headerlink" href="#analyze-across-weeks-using-groupby" title="Permalink to this headline">¶</a></h2>
<p>Another cool way to possible be able to better identifiy the aforementioned trend, check the max &amp; min weekly rate, and on which day did it happen.</p>
<p>First, let’s set up our data in a way that will allow us to analyze it.</p>
<p>And by a grouped table, which will show the day of each week which the highest, and later the lowest rate occured on.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span>
     <span class="n">usd_to_ils_rates</span>
     <span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="n">Week</span> <span class="o">=</span> <span class="n">usd_to_ils_rates</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">week</span><span class="p">)</span>
     <span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;Week&#39;</span><span class="p">])</span>
     <span class="p">[</span><span class="s1">&#39;Day&#39;</span><span class="p">,</span> <span class="s1">&#39;Rate&#39;</span><span class="p">]</span>
     <span class="o">.</span><span class="n">max</span><span class="p">()</span>
     <span class="o">.</span><span class="n">style</span>
     <span class="o">.</span><span class="n">background_gradient</span><span class="p">(</span><span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;summer&#39;</span><span class="p">,</span> <span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Rate&#39;</span><span class="p">])</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><style  type="text/css" >
#T_71d78756_7387_11eb_bc25_acde48001122row0_col1{
            background-color:  #008066;
            color:  #f1f1f1;
        }#T_71d78756_7387_11eb_bc25_acde48001122row1_col1,#T_71d78756_7387_11eb_bc25_acde48001122row6_col1{
            background-color:  #399c66;
            color:  #000000;
        }#T_71d78756_7387_11eb_bc25_acde48001122row2_col1{
            background-color:  #389c66;
            color:  #000000;
        }#T_71d78756_7387_11eb_bc25_acde48001122row3_col1{
            background-color:  #43a166;
            color:  #000000;
        }#T_71d78756_7387_11eb_bc25_acde48001122row4_col1{
            background-color:  #52a866;
            color:  #000000;
        }#T_71d78756_7387_11eb_bc25_acde48001122row5_col1{
            background-color:  #319866;
            color:  #000000;
        }#T_71d78756_7387_11eb_bc25_acde48001122row7_col1{
            background-color:  #b0d866;
            color:  #000000;
        }#T_71d78756_7387_11eb_bc25_acde48001122row8_col1{
            background-color:  #bbdd66;
            color:  #000000;
        }#T_71d78756_7387_11eb_bc25_acde48001122row9_col1{
            background-color:  #95ca66;
            color:  #000000;
        }#T_71d78756_7387_11eb_bc25_acde48001122row10_col1,#T_71d78756_7387_11eb_bc25_acde48001122row13_col1{
            background-color:  #ebf566;
            color:  #000000;
        }#T_71d78756_7387_11eb_bc25_acde48001122row11_col1{
            background-color:  #d5ea66;
            color:  #000000;
        }#T_71d78756_7387_11eb_bc25_acde48001122row12_col1{
            background-color:  #ffff66;
            color:  #000000;
        }#T_71d78756_7387_11eb_bc25_acde48001122row14_col1{
            background-color:  #cae466;
            color:  #000000;
        }#T_71d78756_7387_11eb_bc25_acde48001122row15_col1,#T_71d78756_7387_11eb_bc25_acde48001122row16_col1{
            background-color:  #aad466;
            color:  #000000;
        }#T_71d78756_7387_11eb_bc25_acde48001122row17_col1{
            background-color:  #c5e266;
            color:  #000000;
        }#T_71d78756_7387_11eb_bc25_acde48001122row18_col1{
            background-color:  #c0e066;
            color:  #000000;
        }#T_71d78756_7387_11eb_bc25_acde48001122row19_col1{
            background-color:  #a3d166;
            color:  #000000;
        }#T_71d78756_7387_11eb_bc25_acde48001122row20_col1{
            background-color:  #92c866;
            color:  #000000;
        }#T_71d78756_7387_11eb_bc25_acde48001122row21_col1{
            background-color:  #7fbf66;
            color:  #000000;
        }#T_71d78756_7387_11eb_bc25_acde48001122row22_col1{
            background-color:  #61b066;
            color:  #000000;
        }#T_71d78756_7387_11eb_bc25_acde48001122row23_col1{
            background-color:  #2d9666;
            color:  #000000;
        }#T_71d78756_7387_11eb_bc25_acde48001122row24_col1{
            background-color:  #279366;
            color:  #000000;
        }#T_71d78756_7387_11eb_bc25_acde48001122row25_col1{
            background-color:  #1d8e66;
            color:  #000000;
        }#T_71d78756_7387_11eb_bc25_acde48001122row26_col1{
            background-color:  #168a66;
            color:  #000000;
        }</style><table id="T_71d78756_7387_11eb_bc25_acde48001122" ><thead>    <tr>        <th class="blank level0" ></th>        <th class="col_heading level0 col0" >Day</th>        <th class="col_heading level0 col1" >Rate</th>    </tr>    <tr>        <th class="index_name level0" >Week</th>        <th class="blank" ></th>        <th class="blank" ></th>    </tr></thead><tbody>
                <tr>
                        <th id="T_71d78756_7387_11eb_bc25_acde48001122level0_row0" class="row_heading level0 row0" >1</th>
                        <td id="T_71d78756_7387_11eb_bc25_acde48001122row0_col0" class="data row0 col0" >Wednesday</td>
                        <td id="T_71d78756_7387_11eb_bc25_acde48001122row0_col1" class="data row0 col1" >3.214590</td>
            </tr>
            <tr>
                        <th id="T_71d78756_7387_11eb_bc25_acde48001122level0_row1" class="row_heading level0 row1" >2</th>
                        <td id="T_71d78756_7387_11eb_bc25_acde48001122row1_col0" class="data row1 col0" >Wednesday</td>
                        <td id="T_71d78756_7387_11eb_bc25_acde48001122row1_col1" class="data row1 col1" >3.273360</td>
            </tr>
            <tr>
                        <th id="T_71d78756_7387_11eb_bc25_acde48001122level0_row2" class="row_heading level0 row2" >3</th>
                        <td id="T_71d78756_7387_11eb_bc25_acde48001122row2_col0" class="data row2 col0" >Wednesday</td>
                        <td id="T_71d78756_7387_11eb_bc25_acde48001122row2_col1" class="data row2 col1" >3.272890</td>
            </tr>
            <tr>
                        <th id="T_71d78756_7387_11eb_bc25_acde48001122level0_row3" class="row_heading level0 row3" >4</th>
                        <td id="T_71d78756_7387_11eb_bc25_acde48001122row3_col0" class="data row3 col0" >Wednesday</td>
                        <td id="T_71d78756_7387_11eb_bc25_acde48001122row3_col1" class="data row3 col1" >3.283390</td>
            </tr>
            <tr>
                        <th id="T_71d78756_7387_11eb_bc25_acde48001122level0_row4" class="row_heading level0 row4" >5</th>
                        <td id="T_71d78756_7387_11eb_bc25_acde48001122row4_col0" class="data row4 col0" >Wednesday</td>
                        <td id="T_71d78756_7387_11eb_bc25_acde48001122row4_col1" class="data row4 col1" >3.299270</td>
            </tr>
            <tr>
                        <th id="T_71d78756_7387_11eb_bc25_acde48001122level0_row5" class="row_heading level0 row5" >6</th>
                        <td id="T_71d78756_7387_11eb_bc25_acde48001122row5_col0" class="data row5 col0" >Wednesday</td>
                        <td id="T_71d78756_7387_11eb_bc25_acde48001122row5_col1" class="data row5 col1" >3.265650</td>
            </tr>
            <tr>
                        <th id="T_71d78756_7387_11eb_bc25_acde48001122level0_row6" class="row_heading level0 row6" >7</th>
                        <td id="T_71d78756_7387_11eb_bc25_acde48001122row6_col0" class="data row6 col0" >Wednesday</td>
                        <td id="T_71d78756_7387_11eb_bc25_acde48001122row6_col1" class="data row6 col1" >3.273340</td>
            </tr>
            <tr>
                        <th id="T_71d78756_7387_11eb_bc25_acde48001122level0_row7" class="row_heading level0 row7" >34</th>
                        <td id="T_71d78756_7387_11eb_bc25_acde48001122row7_col0" class="data row7 col0" >Sunday</td>
                        <td id="T_71d78756_7387_11eb_bc25_acde48001122row7_col1" class="data row7 col1" >3.395650</td>
            </tr>
            <tr>
                        <th id="T_71d78756_7387_11eb_bc25_acde48001122level0_row8" class="row_heading level0 row8" >35</th>
                        <td id="T_71d78756_7387_11eb_bc25_acde48001122row8_col0" class="data row8 col0" >Wednesday</td>
                        <td id="T_71d78756_7387_11eb_bc25_acde48001122row8_col1" class="data row8 col1" >3.406910</td>
            </tr>
            <tr>
                        <th id="T_71d78756_7387_11eb_bc25_acde48001122level0_row9" class="row_heading level0 row9" >36</th>
                        <td id="T_71d78756_7387_11eb_bc25_acde48001122row9_col0" class="data row9 col0" >Wednesday</td>
                        <td id="T_71d78756_7387_11eb_bc25_acde48001122row9_col1" class="data row9 col1" >3.367810</td>
            </tr>
            <tr>
                        <th id="T_71d78756_7387_11eb_bc25_acde48001122level0_row10" class="row_heading level0 row10" >37</th>
                        <td id="T_71d78756_7387_11eb_bc25_acde48001122row10_col0" class="data row10 col0" >Wednesday</td>
                        <td id="T_71d78756_7387_11eb_bc25_acde48001122row10_col1" class="data row10 col1" >3.456460</td>
            </tr>
            <tr>
                        <th id="T_71d78756_7387_11eb_bc25_acde48001122level0_row11" class="row_heading level0 row11" >38</th>
                        <td id="T_71d78756_7387_11eb_bc25_acde48001122row11_col0" class="data row11 col0" >Wednesday</td>
                        <td id="T_71d78756_7387_11eb_bc25_acde48001122row11_col1" class="data row11 col1" >3.433940</td>
            </tr>
            <tr>
                        <th id="T_71d78756_7387_11eb_bc25_acde48001122level0_row12" class="row_heading level0 row12" >39</th>
                        <td id="T_71d78756_7387_11eb_bc25_acde48001122row12_col0" class="data row12 col0" >Wednesday</td>
                        <td id="T_71d78756_7387_11eb_bc25_acde48001122row12_col1" class="data row12 col1" >3.477150</td>
            </tr>
            <tr>
                        <th id="T_71d78756_7387_11eb_bc25_acde48001122level0_row13" class="row_heading level0 row13" >40</th>
                        <td id="T_71d78756_7387_11eb_bc25_acde48001122row13_col0" class="data row13 col0" >Wednesday</td>
                        <td id="T_71d78756_7387_11eb_bc25_acde48001122row13_col1" class="data row13 col1" >3.456290</td>
            </tr>
            <tr>
                        <th id="T_71d78756_7387_11eb_bc25_acde48001122level0_row14" class="row_heading level0 row14" >41</th>
                        <td id="T_71d78756_7387_11eb_bc25_acde48001122row14_col0" class="data row14 col0" >Wednesday</td>
                        <td id="T_71d78756_7387_11eb_bc25_acde48001122row14_col1" class="data row14 col1" >3.422490</td>
            </tr>
            <tr>
                        <th id="T_71d78756_7387_11eb_bc25_acde48001122level0_row15" class="row_heading level0 row15" >42</th>
                        <td id="T_71d78756_7387_11eb_bc25_acde48001122row15_col0" class="data row15 col0" >Wednesday</td>
                        <td id="T_71d78756_7387_11eb_bc25_acde48001122row15_col1" class="data row15 col1" >3.389590</td>
            </tr>
            <tr>
                        <th id="T_71d78756_7387_11eb_bc25_acde48001122level0_row16" class="row_heading level0 row16" >43</th>
                        <td id="T_71d78756_7387_11eb_bc25_acde48001122row16_col0" class="data row16 col0" >Wednesday</td>
                        <td id="T_71d78756_7387_11eb_bc25_acde48001122row16_col1" class="data row16 col1" >3.389790</td>
            </tr>
            <tr>
                        <th id="T_71d78756_7387_11eb_bc25_acde48001122level0_row17" class="row_heading level0 row17" >44</th>
                        <td id="T_71d78756_7387_11eb_bc25_acde48001122row17_col0" class="data row17 col0" >Wednesday</td>
                        <td id="T_71d78756_7387_11eb_bc25_acde48001122row17_col1" class="data row17 col1" >3.417380</td>
            </tr>
            <tr>
                        <th id="T_71d78756_7387_11eb_bc25_acde48001122level0_row18" class="row_heading level0 row18" >45</th>
                        <td id="T_71d78756_7387_11eb_bc25_acde48001122row18_col0" class="data row18 col0" >Wednesday</td>
                        <td id="T_71d78756_7387_11eb_bc25_acde48001122row18_col1" class="data row18 col1" >3.411570</td>
            </tr>
            <tr>
                        <th id="T_71d78756_7387_11eb_bc25_acde48001122level0_row19" class="row_heading level0 row19" >46</th>
                        <td id="T_71d78756_7387_11eb_bc25_acde48001122row19_col0" class="data row19 col0" >Wednesday</td>
                        <td id="T_71d78756_7387_11eb_bc25_acde48001122row19_col1" class="data row19 col1" >3.381830</td>
            </tr>
            <tr>
                        <th id="T_71d78756_7387_11eb_bc25_acde48001122level0_row20" class="row_heading level0 row20" >47</th>
                        <td id="T_71d78756_7387_11eb_bc25_acde48001122row20_col0" class="data row20 col0" >Wednesday</td>
                        <td id="T_71d78756_7387_11eb_bc25_acde48001122row20_col1" class="data row20 col1" >3.364970</td>
            </tr>
            <tr>
                        <th id="T_71d78756_7387_11eb_bc25_acde48001122level0_row21" class="row_heading level0 row21" >48</th>
                        <td id="T_71d78756_7387_11eb_bc25_acde48001122row21_col0" class="data row21 col0" >Wednesday</td>
                        <td id="T_71d78756_7387_11eb_bc25_acde48001122row21_col1" class="data row21 col1" >3.345720</td>
            </tr>
            <tr>
                        <th id="T_71d78756_7387_11eb_bc25_acde48001122level0_row22" class="row_heading level0 row22" >49</th>
                        <td id="T_71d78756_7387_11eb_bc25_acde48001122row22_col0" class="data row22 col0" >Wednesday</td>
                        <td id="T_71d78756_7387_11eb_bc25_acde48001122row22_col1" class="data row22 col1" >3.314280</td>
            </tr>
            <tr>
                        <th id="T_71d78756_7387_11eb_bc25_acde48001122level0_row23" class="row_heading level0 row23" >50</th>
                        <td id="T_71d78756_7387_11eb_bc25_acde48001122row23_col0" class="data row23 col0" >Wednesday</td>
                        <td id="T_71d78756_7387_11eb_bc25_acde48001122row23_col1" class="data row23 col1" >3.261470</td>
            </tr>
            <tr>
                        <th id="T_71d78756_7387_11eb_bc25_acde48001122level0_row24" class="row_heading level0 row24" >51</th>
                        <td id="T_71d78756_7387_11eb_bc25_acde48001122row24_col0" class="data row24 col0" >Wednesday</td>
                        <td id="T_71d78756_7387_11eb_bc25_acde48001122row24_col1" class="data row24 col1" >3.255380</td>
            </tr>
            <tr>
                        <th id="T_71d78756_7387_11eb_bc25_acde48001122level0_row25" class="row_heading level0 row25" >52</th>
                        <td id="T_71d78756_7387_11eb_bc25_acde48001122row25_col0" class="data row25 col0" >Wednesday</td>
                        <td id="T_71d78756_7387_11eb_bc25_acde48001122row25_col1" class="data row25 col1" >3.244400</td>
            </tr>
            <tr>
                        <th id="T_71d78756_7387_11eb_bc25_acde48001122level0_row26" class="row_heading level0 row26" >53</th>
                        <td id="T_71d78756_7387_11eb_bc25_acde48001122row26_col0" class="data row26 col0" >Wednesday</td>
                        <td id="T_71d78756_7387_11eb_bc25_acde48001122row26_col1" class="data row26 col1" >3.237460</td>
            </tr>
    </tbody></table></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span>
     <span class="n">usd_to_ils_rates</span>
     <span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="n">Week</span> <span class="o">=</span> <span class="n">usd_to_ils_rates</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">week</span><span class="p">)</span>
     <span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;Week&#39;</span><span class="p">])</span>
     <span class="p">[</span><span class="s1">&#39;Day&#39;</span><span class="p">,</span> <span class="s1">&#39;Rate&#39;</span><span class="p">]</span>
     <span class="o">.</span><span class="n">min</span><span class="p">()</span>
     <span class="o">.</span><span class="n">style</span>
     <span class="o">.</span><span class="n">background_gradient</span><span class="p">(</span><span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;summer&#39;</span><span class="p">,</span> <span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Rate&#39;</span><span class="p">])</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><style  type="text/css" >
#T_721fd7ea_7387_11eb_bc25_acde48001122row0_col1{
            background-color:  #249266;
            color:  #000000;
        }#T_721fd7ea_7387_11eb_bc25_acde48001122row1_col1{
            background-color:  #008066;
            color:  #f1f1f1;
        }#T_721fd7ea_7387_11eb_bc25_acde48001122row2_col1{
            background-color:  #55aa66;
            color:  #000000;
        }#T_721fd7ea_7387_11eb_bc25_acde48001122row3_col1{
            background-color:  #6eb666;
            color:  #000000;
        }#T_721fd7ea_7387_11eb_bc25_acde48001122row4_col1{
            background-color:  #7fbf66;
            color:  #000000;
        }#T_721fd7ea_7387_11eb_bc25_acde48001122row5_col1,#T_721fd7ea_7387_11eb_bc25_acde48001122row6_col1{
            background-color:  #5faf66;
            color:  #000000;
        }#T_721fd7ea_7387_11eb_bc25_acde48001122row7_col1{
            background-color:  #dfef66;
            color:  #000000;
        }#T_721fd7ea_7387_11eb_bc25_acde48001122row8_col1{
            background-color:  #bfdf66;
            color:  #000000;
        }#T_721fd7ea_7387_11eb_bc25_acde48001122row9_col1{
            background-color:  #c0e066;
            color:  #000000;
        }#T_721fd7ea_7387_11eb_bc25_acde48001122row10_col1{
            background-color:  #d4ea66;
            color:  #000000;
        }#T_721fd7ea_7387_11eb_bc25_acde48001122row11_col1{
            background-color:  #f1f866;
            color:  #000000;
        }#T_721fd7ea_7387_11eb_bc25_acde48001122row12_col1{
            background-color:  #ffff66;
            color:  #000000;
        }#T_721fd7ea_7387_11eb_bc25_acde48001122row13_col1{
            background-color:  #f5fa66;
            color:  #000000;
        }#T_721fd7ea_7387_11eb_bc25_acde48001122row14_col1{
            background-color:  #cde666;
            color:  #000000;
        }#T_721fd7ea_7387_11eb_bc25_acde48001122row15_col1{
            background-color:  #d1e866;
            color:  #000000;
        }#T_721fd7ea_7387_11eb_bc25_acde48001122row16_col1{
            background-color:  #cbe566;
            color:  #000000;
        }#T_721fd7ea_7387_11eb_bc25_acde48001122row17_col1{
            background-color:  #ddee66;
            color:  #000000;
        }#T_721fd7ea_7387_11eb_bc25_acde48001122row18_col1{
            background-color:  #cce666;
            color:  #000000;
        }#T_721fd7ea_7387_11eb_bc25_acde48001122row19_col1{
            background-color:  #c5e266;
            color:  #000000;
        }#T_721fd7ea_7387_11eb_bc25_acde48001122row20_col1{
            background-color:  #aed666;
            color:  #000000;
        }#T_721fd7ea_7387_11eb_bc25_acde48001122row21_col1{
            background-color:  #98cc66;
            color:  #000000;
        }#T_721fd7ea_7387_11eb_bc25_acde48001122row22_col1{
            background-color:  #76bb66;
            color:  #000000;
        }#T_721fd7ea_7387_11eb_bc25_acde48001122row23_col1{
            background-color:  #63b166;
            color:  #000000;
        }#T_721fd7ea_7387_11eb_bc25_acde48001122row24_col1{
            background-color:  #56ab66;
            color:  #000000;
        }#T_721fd7ea_7387_11eb_bc25_acde48001122row25_col1{
            background-color:  #45a266;
            color:  #000000;
        }#T_721fd7ea_7387_11eb_bc25_acde48001122row26_col1{
            background-color:  #47a366;
            color:  #000000;
        }</style><table id="T_721fd7ea_7387_11eb_bc25_acde48001122" ><thead>    <tr>        <th class="blank level0" ></th>        <th class="col_heading level0 col0" >Day</th>        <th class="col_heading level0 col1" >Rate</th>    </tr>    <tr>        <th class="index_name level0" >Week</th>        <th class="blank" ></th>        <th class="blank" ></th>    </tr></thead><tbody>
                <tr>
                        <th id="T_721fd7ea_7387_11eb_bc25_acde48001122level0_row0" class="row_heading level0 row0" >1</th>
                        <td id="T_721fd7ea_7387_11eb_bc25_acde48001122row0_col0" class="data row0 col0" >Friday</td>
                        <td id="T_721fd7ea_7387_11eb_bc25_acde48001122row0_col1" class="data row0 col1" >3.174440</td>
            </tr>
            <tr>
                        <th id="T_721fd7ea_7387_11eb_bc25_acde48001122level0_row1" class="row_heading level0 row1" >2</th>
                        <td id="T_721fd7ea_7387_11eb_bc25_acde48001122row1_col0" class="data row1 col0" >Friday</td>
                        <td id="T_721fd7ea_7387_11eb_bc25_acde48001122row1_col1" class="data row1 col1" >3.130680</td>
            </tr>
            <tr>
                        <th id="T_721fd7ea_7387_11eb_bc25_acde48001122level0_row2" class="row_heading level0 row2" >3</th>
                        <td id="T_721fd7ea_7387_11eb_bc25_acde48001122row2_col0" class="data row2 col0" >Friday</td>
                        <td id="T_721fd7ea_7387_11eb_bc25_acde48001122row2_col1" class="data row2 col1" >3.231710</td>
            </tr>
            <tr>
                        <th id="T_721fd7ea_7387_11eb_bc25_acde48001122level0_row3" class="row_heading level0 row3" >4</th>
                        <td id="T_721fd7ea_7387_11eb_bc25_acde48001122row3_col0" class="data row3 col0" >Friday</td>
                        <td id="T_721fd7ea_7387_11eb_bc25_acde48001122row3_col1" class="data row3 col1" >3.261980</td>
            </tr>
            <tr>
                        <th id="T_721fd7ea_7387_11eb_bc25_acde48001122level0_row4" class="row_heading level0 row4" >5</th>
                        <td id="T_721fd7ea_7387_11eb_bc25_acde48001122row4_col0" class="data row4 col0" >Friday</td>
                        <td id="T_721fd7ea_7387_11eb_bc25_acde48001122row4_col1" class="data row4 col1" >3.281990</td>
            </tr>
            <tr>
                        <th id="T_721fd7ea_7387_11eb_bc25_acde48001122level0_row5" class="row_heading level0 row5" >6</th>
                        <td id="T_721fd7ea_7387_11eb_bc25_acde48001122row5_col0" class="data row5 col0" >Friday</td>
                        <td id="T_721fd7ea_7387_11eb_bc25_acde48001122row5_col1" class="data row5 col1" >3.244050</td>
            </tr>
            <tr>
                        <th id="T_721fd7ea_7387_11eb_bc25_acde48001122level0_row6" class="row_heading level0 row6" >7</th>
                        <td id="T_721fd7ea_7387_11eb_bc25_acde48001122row6_col0" class="data row6 col0" >Friday</td>
                        <td id="T_721fd7ea_7387_11eb_bc25_acde48001122row6_col1" class="data row6 col1" >3.243440</td>
            </tr>
            <tr>
                        <th id="T_721fd7ea_7387_11eb_bc25_acde48001122level0_row7" class="row_heading level0 row7" >34</th>
                        <td id="T_721fd7ea_7387_11eb_bc25_acde48001122row7_col0" class="data row7 col0" >Sunday</td>
                        <td id="T_721fd7ea_7387_11eb_bc25_acde48001122row7_col1" class="data row7 col1" >3.395650</td>
            </tr>
            <tr>
                        <th id="T_721fd7ea_7387_11eb_bc25_acde48001122level0_row8" class="row_heading level0 row8" >35</th>
                        <td id="T_721fd7ea_7387_11eb_bc25_acde48001122row8_col0" class="data row8 col0" >Friday</td>
                        <td id="T_721fd7ea_7387_11eb_bc25_acde48001122row8_col1" class="data row8 col1" >3.358090</td>
            </tr>
            <tr>
                        <th id="T_721fd7ea_7387_11eb_bc25_acde48001122level0_row9" class="row_heading level0 row9" >36</th>
                        <td id="T_721fd7ea_7387_11eb_bc25_acde48001122row9_col0" class="data row9 col0" >Friday</td>
                        <td id="T_721fd7ea_7387_11eb_bc25_acde48001122row9_col1" class="data row9 col1" >3.358820</td>
            </tr>
            <tr>
                        <th id="T_721fd7ea_7387_11eb_bc25_acde48001122level0_row10" class="row_heading level0 row10" >37</th>
                        <td id="T_721fd7ea_7387_11eb_bc25_acde48001122row10_col0" class="data row10 col0" >Friday</td>
                        <td id="T_721fd7ea_7387_11eb_bc25_acde48001122row10_col1" class="data row10 col1" >3.381950</td>
            </tr>
            <tr>
                        <th id="T_721fd7ea_7387_11eb_bc25_acde48001122level0_row11" class="row_heading level0 row11" >38</th>
                        <td id="T_721fd7ea_7387_11eb_bc25_acde48001122row11_col0" class="data row11 col0" >Friday</td>
                        <td id="T_721fd7ea_7387_11eb_bc25_acde48001122row11_col1" class="data row11 col1" >3.416340</td>
            </tr>
            <tr>
                        <th id="T_721fd7ea_7387_11eb_bc25_acde48001122level0_row12" class="row_heading level0 row12" >39</th>
                        <td id="T_721fd7ea_7387_11eb_bc25_acde48001122row12_col0" class="data row12 col0" >Friday</td>
                        <td id="T_721fd7ea_7387_11eb_bc25_acde48001122row12_col1" class="data row12 col1" >3.433970</td>
            </tr>
            <tr>
                        <th id="T_721fd7ea_7387_11eb_bc25_acde48001122level0_row13" class="row_heading level0 row13" >40</th>
                        <td id="T_721fd7ea_7387_11eb_bc25_acde48001122row13_col0" class="data row13 col0" >Friday</td>
                        <td id="T_721fd7ea_7387_11eb_bc25_acde48001122row13_col1" class="data row13 col1" >3.421860</td>
            </tr>
            <tr>
                        <th id="T_721fd7ea_7387_11eb_bc25_acde48001122level0_row14" class="row_heading level0 row14" >41</th>
                        <td id="T_721fd7ea_7387_11eb_bc25_acde48001122row14_col0" class="data row14 col0" >Friday</td>
                        <td id="T_721fd7ea_7387_11eb_bc25_acde48001122row14_col1" class="data row14 col1" >3.373740</td>
            </tr>
            <tr>
                        <th id="T_721fd7ea_7387_11eb_bc25_acde48001122level0_row15" class="row_heading level0 row15" >42</th>
                        <td id="T_721fd7ea_7387_11eb_bc25_acde48001122row15_col0" class="data row15 col0" >Friday</td>
                        <td id="T_721fd7ea_7387_11eb_bc25_acde48001122row15_col1" class="data row15 col1" >3.378600</td>
            </tr>
            <tr>
                        <th id="T_721fd7ea_7387_11eb_bc25_acde48001122level0_row16" class="row_heading level0 row16" >43</th>
                        <td id="T_721fd7ea_7387_11eb_bc25_acde48001122row16_col0" class="data row16 col0" >Friday</td>
                        <td id="T_721fd7ea_7387_11eb_bc25_acde48001122row16_col1" class="data row16 col1" >3.371880</td>
            </tr>
            <tr>
                        <th id="T_721fd7ea_7387_11eb_bc25_acde48001122level0_row17" class="row_heading level0 row17" >44</th>
                        <td id="T_721fd7ea_7387_11eb_bc25_acde48001122row17_col0" class="data row17 col0" >Friday</td>
                        <td id="T_721fd7ea_7387_11eb_bc25_acde48001122row17_col1" class="data row17 col1" >3.393210</td>
            </tr>
            <tr>
                        <th id="T_721fd7ea_7387_11eb_bc25_acde48001122level0_row18" class="row_heading level0 row18" >45</th>
                        <td id="T_721fd7ea_7387_11eb_bc25_acde48001122row18_col0" class="data row18 col0" >Friday</td>
                        <td id="T_721fd7ea_7387_11eb_bc25_acde48001122row18_col1" class="data row18 col1" >3.372910</td>
            </tr>
            <tr>
                        <th id="T_721fd7ea_7387_11eb_bc25_acde48001122level0_row19" class="row_heading level0 row19" >46</th>
                        <td id="T_721fd7ea_7387_11eb_bc25_acde48001122row19_col0" class="data row19 col0" >Friday</td>
                        <td id="T_721fd7ea_7387_11eb_bc25_acde48001122row19_col1" class="data row19 col1" >3.364520</td>
            </tr>
            <tr>
                        <th id="T_721fd7ea_7387_11eb_bc25_acde48001122level0_row20" class="row_heading level0 row20" >47</th>
                        <td id="T_721fd7ea_7387_11eb_bc25_acde48001122row20_col0" class="data row20 col0" >Friday</td>
                        <td id="T_721fd7ea_7387_11eb_bc25_acde48001122row20_col1" class="data row20 col1" >3.337940</td>
            </tr>
            <tr>
                        <th id="T_721fd7ea_7387_11eb_bc25_acde48001122level0_row21" class="row_heading level0 row21" >48</th>
                        <td id="T_721fd7ea_7387_11eb_bc25_acde48001122row21_col0" class="data row21 col0" >Friday</td>
                        <td id="T_721fd7ea_7387_11eb_bc25_acde48001122row21_col1" class="data row21 col1" >3.311760</td>
            </tr>
            <tr>
                        <th id="T_721fd7ea_7387_11eb_bc25_acde48001122level0_row22" class="row_heading level0 row22" >49</th>
                        <td id="T_721fd7ea_7387_11eb_bc25_acde48001122row22_col0" class="data row22 col0" >Friday</td>
                        <td id="T_721fd7ea_7387_11eb_bc25_acde48001122row22_col1" class="data row22 col1" >3.270920</td>
            </tr>
            <tr>
                        <th id="T_721fd7ea_7387_11eb_bc25_acde48001122level0_row23" class="row_heading level0 row23" >50</th>
                        <td id="T_721fd7ea_7387_11eb_bc25_acde48001122row23_col0" class="data row23 col0" >Friday</td>
                        <td id="T_721fd7ea_7387_11eb_bc25_acde48001122row23_col1" class="data row23 col1" >3.248420</td>
            </tr>
            <tr>
                        <th id="T_721fd7ea_7387_11eb_bc25_acde48001122level0_row24" class="row_heading level0 row24" >51</th>
                        <td id="T_721fd7ea_7387_11eb_bc25_acde48001122row24_col0" class="data row24 col0" >Friday</td>
                        <td id="T_721fd7ea_7387_11eb_bc25_acde48001122row24_col1" class="data row24 col1" >3.232720</td>
            </tr>
            <tr>
                        <th id="T_721fd7ea_7387_11eb_bc25_acde48001122level0_row25" class="row_heading level0 row25" >52</th>
                        <td id="T_721fd7ea_7387_11eb_bc25_acde48001122row25_col0" class="data row25 col0" >Friday</td>
                        <td id="T_721fd7ea_7387_11eb_bc25_acde48001122row25_col1" class="data row25 col1" >3.213200</td>
            </tr>
            <tr>
                        <th id="T_721fd7ea_7387_11eb_bc25_acde48001122level0_row26" class="row_heading level0 row26" >53</th>
                        <td id="T_721fd7ea_7387_11eb_bc25_acde48001122row26_col0" class="data row26 col0" >Friday</td>
                        <td id="T_721fd7ea_7387_11eb_bc25_acde48001122row26_col1" class="data row26 col1" >3.215330</td>
            </tr>
    </tbody></table></div></div>
</div>
<div class="section" id="analysis-conclusion">
<h3>Analysis conclusion<a class="headerlink" href="#analysis-conclusion" title="Permalink to this headline">¶</a></h3>
<p>And here is the answer for our question - which days are the best day to conduct a currency conversion between USD and ILS to maximize your profits: Wednsday for USD to ILS and Friday to ILS to USD</p>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./notebooks"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        
        <div class='prev-next-bottom'>
            
    <a class='left-prev' id="prev-link" href="08.01_Logistics_analysis.html" title="previous page">Logistics Analysis</a>
    <a class='right-next' id="next-link" href="08.03_Linear_optimization.html" title="next page">Linear Programming (Optimization)</a>

        </div>
        
        </div>
    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By The Aiola Team<br/>
        
            &copy; Copyright 2020.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>

    
  <script src="../_static/js/index.d3f166471bb80abb5163.js"></script>


    
  </body>
</html>